@model PhotoShr.Models.photo
@{
    ViewBag.Title = "Upload picture";
}
@section ExtraStyles {
    <link href="@Url.Content("~/Styles/uploader.css")" rel="stylesheet" />
}

@section ExtraScripts {
    <script src="@Url.Content("~/Scripts/uploader.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
}


<h1>Upload</h1>
<hr />
<h3>Choose file(s)</h3>

@using (Html.BeginForm("Upload", "Photo", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <p>
        <input id="files-upload" name="files-upload" type="file">
    </p>
    <table style="border: 0px;">
        <tr>
            <td>
                <div id="file-list">
                </div>
            </td>
        </tr>
        <tr>
            <td id="file-metadata" style="display: none; vertical-align: top; padding-left: 10px;">
                <fieldset>
                        <legend>Details</legend>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.name, "Title")
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.name)
                        @Html.ValidationMessageFor(model => model.name)
                    </div>

                    <div class="editor-label">
                        @Html.LabelFor(model => model.description, "Description")
                    </div>
                    <div class="editor-field">
                        @Html.TextAreaFor(model => model.description)
                        @Html.ValidationMessageFor(model => model.description)
                    </div>

                    <div class="editor-label">
                        @Html.LabelFor(model => model.photo_category, "Category")
                    </div>
                    <div class="editor-field">
                        @Html.DropDownList("photo_category", ViewBag.photo_category as SelectList)
                        @Html.ValidationMessageFor(model => model.photo_category)
                    </div>

                    <div class="editor-label">
                        @Html.LabelFor(model => model.tags, "Tags")
                    </div>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.tags)
                        @Html.ValidationMessageFor(model => model.tags)
                    </div>

                    <div class="actions">
                        <input type="submit" value="Save" class="btn primary">
                    </div>
                </fieldset>
            </td>
        </tr>
    </table>
}
